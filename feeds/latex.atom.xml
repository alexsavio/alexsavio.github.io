<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Interlines</title><link href="http://alexsavio.github.io/" rel="alternate"></link><link href="http://alexsavio.github.io/feeds/latex.atom.xml" rel="self"></link><id>http://alexsavio.github.io/</id><updated>2014-02-27T18:11:46+00:00</updated><entry><title>Using BibLatex with Lyx and JabRef</title><link href="http://alexsavio.github.io/biblatex_lyx_jabref_encoding.html" rel="alternate"></link><updated>2014-02-27T18:11:46+00:00</updated><author><name>Alexandre M. Savio</name></author><id>tag:alexsavio.github.io,2014-02-27:biblatex_lyx_jabref_encoding.html</id><summary type="html">&lt;h3&gt;Introduction&lt;/h3&gt;
&lt;p&gt;For publishing articles with Lyx I&amp;#8217;ve used Zotero, JabRef and Lyx during my PhD.
I&amp;#8217;ve always had problems with the encoding of the BibTex files and ended up
editing them in JabRef, removing/replacing strange&amp;nbsp;characters.&lt;/p&gt;
&lt;p&gt;Today a good friend indicated me &lt;a href="http://www.ctan.org/pkg/biblatex"&gt;BibLatex&lt;/a&gt;.
And we saw that Lyx could be configured to use it through 
&lt;a href="http://biblatex-biber.sourceforge.net/"&gt;biber&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is a list of steps that you should perform in order to be able to use
BibLatex on&amp;nbsp;Lyx.&lt;/p&gt;
&lt;h3&gt;Step 1: Reconfigure encodings in Zotero and&amp;nbsp;JabRef&lt;/h3&gt;
&lt;p&gt;Setup Zotero to export to&amp;nbsp;&lt;span class="caps"&gt;UTF&lt;/span&gt;-8.&lt;/p&gt;
&lt;p&gt;Setup JabRef to use the default encoding as&amp;nbsp;&lt;span class="caps"&gt;UTF&lt;/span&gt;-8.&lt;/p&gt;
&lt;h3&gt;Step 2: Install biblatex and&amp;nbsp;biber&lt;/h3&gt;
&lt;p&gt;In Ubuntu I installed the packages: &lt;em&gt;biblatex texlive-latex-extra&amp;nbsp;texlive-bibtex-extra&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;Step 3: Create the biblatex.module&amp;nbsp;file&lt;/h3&gt;
&lt;p&gt;Create a file named biblatex.module with the following&amp;nbsp;content:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="cp"&gt;#\DeclareLyXModule{Biblatex-citation-styles}&lt;/span&gt;
&lt;span class="cp"&gt;#DescriptionBegin&lt;/span&gt;
&lt;span class="cp"&gt;#A prerequisite for using the biblatex package. This module simply&lt;/span&gt;
&lt;span class="cp"&gt;#enables the author/year citation styles without actually loading natbib.&lt;/span&gt;
&lt;span class="cp"&gt;#Biblatex itself needs to be loaded manually. Cf.&lt;/span&gt;
&lt;span class="cp"&gt;#http:&lt;/span&gt;&lt;span class="c1"&gt;//wiki.lyx.org/BibTeX/Biblatex&lt;/span&gt;
&lt;span class="cp"&gt;#DescriptionEnd&lt;/span&gt;

&lt;span class="n"&gt;Format&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt;

&lt;span class="cp"&gt;# this is biblatex actually&lt;/span&gt;
&lt;span class="n"&gt;Provides&lt;/span&gt; &lt;span class="n"&gt;natbib&lt;/span&gt;    &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Put the file biblatex.module in the layouts folder in your user directory 
(Help→About LyX tells you where you can find this directory; in the latest versions of &lt;span class="caps"&gt;OSX&lt;/span&gt; the correct layouts folder is in the applications&amp;nbsp;folder).&lt;/p&gt;
&lt;p&gt;In Ubuntu it is&amp;nbsp;~/.lyx&lt;/p&gt;
&lt;p&gt;Run Tools→Reconfigure, restart&amp;nbsp;LyX.&lt;/p&gt;
&lt;h3&gt;Step 4: Creating the .lyx&amp;nbsp;file&lt;/h3&gt;
&lt;h4&gt;Add the biblatex&amp;nbsp;module&lt;/h4&gt;
&lt;p&gt;Add to &amp;#8220;Selected&amp;#8221; the module &amp;#8220;Biblatex-citation-styles&amp;#8221; from&amp;nbsp;Document→Settings→Modules. &lt;/p&gt;
&lt;h4&gt;Load biblatex in the&amp;nbsp;preamble&lt;/h4&gt;
&lt;p&gt;In the document preamble (Document→Settings→Preamble) you have to load biblatex manually,&amp;nbsp;with:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;usepackage&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;natbib&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;style&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;numeric&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;backend&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;biber&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;maxnames&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;doi&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;bibencoding&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;utf8&lt;/span&gt;&lt;span class="p"&gt;]{&lt;/span&gt;&lt;span class="n"&gt;biblatex&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Load the bibliography in the&amp;nbsp;preamble&lt;/h4&gt;
&lt;p&gt;Load your bibliography database in the&amp;nbsp;preamble:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;addbibresource&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;home&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;alexandre&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mybibs&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bib&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Multiple databases must be loaded by multiple \addbibresource&amp;nbsp;commands.&lt;/p&gt;
&lt;p&gt;Please refer to the &lt;a href="http://mirrors.ctan.org/macros/latex/contrib/biblatex/doc/biblatex.pdf"&gt;biblatex documentation&lt;/a&gt; for further&amp;nbsp;options. &lt;/p&gt;
&lt;h4&gt;Load the bibliography in a&amp;nbsp;note&lt;/h4&gt;
&lt;p&gt;In the document, insert the BibTeX inset (Insert→List/&lt;span class="caps"&gt;TOC&lt;/span&gt;→BibTeX Bibliography&amp;#8230; ) in a LyX note or comment, 
such that LyX finds the citations, but no \bibliography command is output to&amp;nbsp;LaTeX. &lt;/p&gt;
&lt;p&gt;It does not matter which style you chose here, so you can stick with &amp;#8220;plain&amp;#8221;. 
However, in order to use the citation dialog, you&amp;#8217;ll have to choose the correct databases (i.e. those you loaded above in item&amp;nbsp;(3)).&lt;/p&gt;
&lt;p&gt;This is only needed if you are going to use the citation dialog. I use JabRef to push the citations&amp;nbsp;instead.&lt;/p&gt;
&lt;h4&gt;Put the printbibliography&amp;nbsp;command&lt;/h4&gt;
&lt;p&gt;In the document, enter \printbibliography in &lt;span class="caps"&gt;ERT&lt;/span&gt; (TeX mode) at the place where the bibliography shall&amp;nbsp;occur. &lt;/p&gt;
&lt;h4&gt;View the file in&amp;nbsp;&lt;span class="caps"&gt;PDF&lt;/span&gt;&lt;/h4&gt;
&lt;p&gt;And this should do&amp;nbsp;it.&lt;/p&gt;
&lt;h3&gt;References&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://wiki.lyx.org/BibTeX/Tips"&gt;http://wiki.lyx.org/BibTeX/Tips&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://wiki.lyx.org/BibTeX/Biblatex"&gt;http://wiki.lyx.org/BibTeX/Biblatex&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://wiki.lyx.org/BibTeX/BiblatexStyles"&gt;http://wiki.lyx.org/BibTeX/BiblatexStyles&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The biblatex.module file: &lt;a href="http://wiki.lyx.org/uploads/BibTeX/biblatex.module"&gt;http://wiki.lyx.org/uploads/BibTeX/biblatex.module&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The bibtexall script: &lt;a href="http://wiki.lyx.org/uploads/BibTeX/bibtexall"&gt;http://wiki.lyx.org/uploads/BibTeX/bibtexall&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</summary><category term="latex"></category><category term="lyx"></category><category term="bibtex"></category></entry></feed>