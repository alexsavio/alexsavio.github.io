<!DOCTYPE html>
<html lang="en_us">
<head>
        <meta charset="utf-8" />
        <title>Using BibLatex with Lyx and JabRef</title>
        <link rel="stylesheet" href="http://alexsavio.github.io/theme/css/main.css" />
        <link href="http://alexsavio.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Interlines Atom Feed" />
        <link href="http://alexsavio.github.io/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Interlines RSS Feed" />


        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="http://github.com/alexsavio">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="http://alexsavio.github.io/">Interlines  <strong>Lost in spikes</strong></a></h1>
                <nav><ul>
                    <li><a href="about.html">About</a></li>
                    <li><a href="http://www.ehu.es/ccwintco/index.php/Usuario:Alexsavio">My CV</a></li>
                    <li class="active"><a href="http://alexsavio.github.io/category/latex.html">LaTex</a></li>
                    <li><a href="http://alexsavio.github.io/category/python.html">Python</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="http://alexsavio.github.io/biblatex_lyx_jabref_encoding.html" rel="bookmark"
           title="Permalink to Using BibLatex with Lyx and JabRef">Using BibLatex with Lyx and&nbsp;JabRef</a></h1>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="alex_savio">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-02-27T18:11:46">
                Published: Thu 27 February 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://alexsavio.github.io/author/alexandre-m-savio.html">Alexandre M. Savio</a>
        </address>
<p>In <a href="http://alexsavio.github.io/category/latex.html">LaTex</a>. </p>
<p>tags: <a href="http://alexsavio.github.io/tag/latex.html">latex</a><a href="http://alexsavio.github.io/tag/lyx.html">lyx</a><a href="http://alexsavio.github.io/tag/bibtex.html">bibtex</a></p>
</footer><!-- /.post-info -->      <h3>Introduction</h3>
<p>For publishing articles with Lyx I&#8217;ve used Zotero, JabRef and Lyx during my PhD.
I&#8217;ve always had problems with the encoding of the BibTex files and ended up
editing them in JabRef, removing/replacing strange&nbsp;characters.</p>
<p>Today a good friend indicated me <a href="http://www.ctan.org/pkg/biblatex">BibLatex</a>.
And we saw that Lyx could be configured to use it through 
<a href="http://biblatex-biber.sourceforge.net/">biber</a>.</p>
<p>This is a list of steps that you should perform in order to be able to use
BibLatex on&nbsp;Lyx.</p>
<h3>Step 1: Reconfigure encodings in Zotero and&nbsp;JabRef</h3>
<p>Setup Zotero to export to&nbsp;<span class="caps">UTF</span>-8.</p>
<p>Setup JabRef to use the default encoding as&nbsp;<span class="caps">UTF</span>-8.</p>
<h3>Step 2: Install biblatex and&nbsp;biber</h3>
<p>In Ubuntu I installed the packages: <em>biblatex texlive-latex-extra&nbsp;texlive-bibtex-extra</em></p>
<h3>Step 3: Create the biblatex.module&nbsp;file</h3>
<p>Create a file named biblatex.module with the following&nbsp;content:</p>
<div class="codehilite"><pre><span class="cp">#\DeclareLyXModule{Biblatex-citation-styles}</span>
<span class="cp">#DescriptionBegin</span>
<span class="cp">#A prerequisite for using the biblatex package. This module simply</span>
<span class="cp">#enables the author/year citation styles without actually loading natbib.</span>
<span class="cp">#Biblatex itself needs to be loaded manually. Cf.</span>
<span class="cp">#http:</span><span class="c1">//wiki.lyx.org/BibTeX/Biblatex</span>
<span class="cp">#DescriptionEnd</span>

<span class="n">Format</span> <span class="mi">11</span>

<span class="cp"># this is biblatex actually</span>
<span class="n">Provides</span> <span class="n">natbib</span>    <span class="mi">1</span>
</pre></div>


<p>Put the file biblatex.module in the layouts folder in your user directory 
(Help→About LyX tells you where you can find this directory; in the latest versions of <span class="caps">OSX</span> the correct layouts folder is in the applications&nbsp;folder).</p>
<p>In Ubuntu it is&nbsp;~/.lyx</p>
<p>Run Tools→Reconfigure, restart&nbsp;LyX.</p>
<h3>Step 4: Creating the .lyx&nbsp;file</h3>
<h4>Add the biblatex&nbsp;module</h4>
<p>Add to &#8220;Selected&#8221; the module &#8220;Biblatex-citation-styles&#8221; from&nbsp;Document→Settings→Modules. </p>
<h4>Load biblatex in the&nbsp;preamble</h4>
<p>In the document preamble (Document→Settings→Preamble) you have to load biblatex manually,&nbsp;with:</p>
<div class="codehilite"><pre><span class="err">\</span><span class="n">usepackage</span><span class="p">[</span><span class="n">natbib</span><span class="o">=</span><span class="nb">true</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="n">numeric</span><span class="p">,</span><span class="n">backend</span><span class="o">=</span><span class="n">biber</span><span class="p">,</span><span class="n">maxnames</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">doi</span><span class="o">=</span><span class="nb">true</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="nb">false</span><span class="p">,</span><span class="n">bibencoding</span><span class="o">=</span><span class="n">utf8</span><span class="p">]{</span><span class="n">biblatex</span><span class="p">}</span>
</pre></div>


<h4>Load the bibliography in the&nbsp;preamble</h4>
<p>Load your bibliography database in the&nbsp;preamble:</p>
<div class="codehilite"><pre><span class="err">\</span><span class="n">addbibresource</span><span class="p">{</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">alexandre</span><span class="o">/</span><span class="n">mybibs</span><span class="p">.</span><span class="n">bib</span><span class="p">}</span>
</pre></div>


<p>Multiple databases must be loaded by multiple \addbibresource&nbsp;commands.</p>
<p>Please refer to the <a href="http://mirrors.ctan.org/macros/latex/contrib/biblatex/doc/biblatex.pdf">biblatex documentation</a> for further&nbsp;options. </p>
<h4>Load the bibliography in a&nbsp;note</h4>
<p>In the document, insert the BibTeX inset (Insert→List/<span class="caps">TOC</span>→BibTeX Bibliography&#8230; ) in a LyX note or comment, 
such that LyX finds the citations, but no \bibliography command is output to&nbsp;LaTeX. </p>
<p>It does not matter which style you chose here, so you can stick with &#8220;plain&#8221;. 
However, in order to use the citation dialog, you&#8217;ll have to choose the correct databases (i.e. those you loaded above in item&nbsp;(3)).</p>
<p>This is only needed if you are going to use the citation dialog. I use JabRef to push the citations&nbsp;instead.</p>
<h4>Put the printbibliography&nbsp;command</h4>
<p>In the document, enter \printbibliography in <span class="caps">ERT</span> (TeX mode) at the place where the bibliography shall&nbsp;occur. </p>
<h4>View the file in&nbsp;<span class="caps">PDF</span></h4>
<p>And this should do&nbsp;it.</p>
<h3>References</h3>
<ol>
<li>
<p><a href="http://wiki.lyx.org/BibTeX/Tips">http://wiki.lyx.org/BibTeX/Tips</a></p>
</li>
<li>
<p><a href="http://wiki.lyx.org/BibTeX/Biblatex">http://wiki.lyx.org/BibTeX/Biblatex</a></p>
</li>
<li>
<p><a href="http://wiki.lyx.org/BibTeX/BiblatexStyles">http://wiki.lyx.org/BibTeX/BiblatexStyles</a></p>
</li>
<li>
<p>The biblatex.module file: <a href="http://wiki.lyx.org/uploads/BibTeX/biblatex.module">http://wiki.lyx.org/uploads/BibTeX/biblatex.module</a></p>
</li>
<li>
<p>The bibtexall script: <a href="http://wiki.lyx.org/uploads/BibTeX/bibtexall">http://wiki.lyx.org/uploads/BibTeX/bibtexall</a></p>
</li>
</ol>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://bcig.eu/">BCIG.EU</a></li>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://alexsavio.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            <li><a href="http://alexsavio.github.io/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">rss feed</a></li>

                            <li><a href="http://twitter.com/alex_savio">twitter</a></li>
                            <li><a href="http://github.com/alexsavio">github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>