<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interlines, Software Engineer. Cloud, IoT, DevOps, neuroimaging, machine-learning, Python and C++ coder. ACPySS and ex-EuroPython.">

        <link rel="alternate"  href="https://alexsavio.github.io/feeds/all.atom.xml" type="application/atom+xml" title="Interlines Full Atom Feed"/>
        <link rel="alternate" href="https://alexsavio.github.io/feeds/all.rss.xml" type="application/rss+xml" title="Interlines Full RSS Feed"/>

        <title>Git usage guidelines for team collaboration // Interlines // Software Engineer. Cloud, IoT, DevOps, neuroimaging, machine-learning, Python and C++ coder. ACPySS and ex-EuroPython.</title>


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://alexsavio.github.io/theme/css/pure.css">
    <link rel="stylesheet" href="https://alexsavio.github.io/theme/css/pygments.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
</head>

<body>
<div class="pure-g-r" id="layout">
    <div class="sidebar sidebar-article pure-u">
        <header class="header-article">
            <hgroup>
                <a href="https://alexsavio.github.io/author/alexandre-m-savio.html" title="See posts by Alexandre M. Savio">
                        <img class="avatar" alt="Alexandre M. Savio" src="https://www.gravatar.com/avatar/252ab7f3e2ebf905115dee137696bb1e">
                </a>
                <h2 class="article-info">Alexandre M. Savio</h2>
                <small class="about-author"></small>
                <h5>Published</h5>
                <p>Tue 11 June 2019</p>
                <a href="/">&larr;Home</a>
            </hgroup>
        </header>
    </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Git usage guidelines for team&nbsp;collaboration</h1>
                        <p class="post-meta">
                            // under                                 <a class="post-category" href="https://alexsavio.github.io/tag/git.html">git</a>
                                <a class="post-category" href="https://alexsavio.github.io/tag/collaboration.html">collaboration</a>
                                <a class="post-category" href="https://alexsavio.github.io/tag/team.html">team</a>
                        </p>
                </header>
            </section>
            <h2>Introduction</h2>
<p>This is a set of rules that I have been gathering in the past few years, which work well for most of the projects I worked on with small teams of 3-8 people. These guidelines are heavily based on the <a href="https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#-git-commit-guidelines">angular.js/<span class="caps">DEVELOPERS</span>.md document on  GitHub</a>.
This is not about <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">GitFlow</a>, I think it is too complex and goes against fast development cycles. Build good and reliable <span class="caps">CI</span>/<span class="caps">CD</span> pipelines to be able to deliver faster, use canary releases whenever&nbsp;possible.</p>
<h2>Branching&nbsp;model</h2>
<p>Always create a new branch from an updated &#8220;master&#8221; branch.
The branches should have a short life (no more than 2 days) and have a very determined objective.
Once the objective is reached, a Pull Request (<span class="caps">PR</span>) should be created to merge the branch to “master”.
Once the branch is merged, it should be deleted.
Always merge to&nbsp;“master”.</p>
<h3>Branch&nbsp;names</h3>
<p>The branch names are not that important in very small teams, but when the team is bigger or work remotely,
a pattern for the branch names is also good to follow. Here is a&nbsp;suggestion:</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="err">```python</span></span>
<span class="code-line"><span class="err">&lt;type&gt;/[&lt;ticket_id&gt;]_&lt;subject&gt;</span></span>
<span class="code-line"><span class="err">```</span></span>
</pre></div>


<p>Some tools like Sourcetree from Atlassian pick the <code>/</code> from the branch name and splits the name in their <span class="caps">GUI</span>,
so you can see the different types of branches as in different&nbsp;folders.</p>
<h4>Type</h4>
<p>The <type> describes the generic objective of the branch, it can be one of the&nbsp;following:</p>
<ul>
<li><strong>feat</strong>: a new&nbsp;feature,</li>
<li><strong>fix</strong>: a bug&nbsp;fix,</li>
<li><strong>docs</strong>: documentation only changes (in or out of the&nbsp;code),</li>
<li><strong>tests</strong>: new tests or fixes in&nbsp;tests,</li>
<li><strong>refactor</strong>: code change that neither fixes a bug or adds a&nbsp;feature,</li>
<li><strong>style</strong>: code changes that&nbsp;neither,</li>
<li><strong>chore</strong>: Changes to the build process or auxiliary tools for the project&nbsp;maintenance,</li>
<li><strong>perf</strong>: A code change that improves&nbsp;performance.</li>
</ul>
<h4>Ticket <span class="caps">ID</span></h4>
<p>This is optional, but is good if the purpose of the branch is too complex or if you follow a Scrum development process.
The <ticket_id> should be the identifier of the ticket or user story that the branch is going to solve.
The format depends on the project management tool you are using, but usually it has a project acronym and a number: <code>PRJ_123</code>.</p>
<h4>Subject</h4>
<p>The <subject> part should be no more than 3 or 4 words about the specific objective of the branch.
If you don’t put a ticket <span class="caps">ID</span>, the specificity of the name is more&nbsp;relevant.</p>
<h3>Commit&nbsp;messages</h3>
<p>Here we follow a very specific pattern in order to be able to parse the commit messages to automatically generate a
change log for each release in a <span class="caps">CI</span>/<span class="caps">CD</span> process and also semantic release version bumps
with tools like semantic-release (available for Node.js and&nbsp;Python).</p>
<h4>Format</h4>
<p>Each commit message consists of a header, a body and a footer. The header has a special format that includes a type, a scope and a&nbsp;subject:</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="err">```python</span></span>
<span class="code-line"><span class="err">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span></span>
<span class="code-line"><span class="err">&lt;BLANK LINE&gt;</span></span>
<span class="code-line"><span class="err">&lt;body&gt;</span></span>
<span class="code-line"><span class="err">&lt;BLANK LINE&gt;</span></span>
<span class="code-line"><span class="err">&lt;footer&gt;</span></span>
<span class="code-line"><span class="err">```</span></span>
</pre></div>


<p>The header is mandatory and the scope of the header is optional.
Any line of the commit message cannot be longer 100 characters!
This allows the message to be easier to read on GitHub as well as in various git&nbsp;tools.</p>
<h5>Type</h5>
<p>The <type> describes the generic objective of the commit, use the same types used for branches. I will repeat them&nbsp;here:</p>
<ul>
<li><strong>feat</strong>: a new&nbsp;feature,</li>
<li><strong>fix</strong>: a bug&nbsp;fix,</li>
<li><strong>docs</strong>: documentation only changes (in or out of the&nbsp;code),</li>
<li><strong>tests</strong>: new tests or fixes in&nbsp;tests,</li>
<li><strong>refactor</strong>: code change that neither fixes a bug or adds a&nbsp;feature,</li>
<li><strong>style</strong>: code changes that&nbsp;neither,</li>
<li><strong>chore</strong>: Changes to the build process or auxiliary tools for the project&nbsp;maintenance,</li>
<li><strong>perf</strong>: A code change that improves&nbsp;performance.</li>
</ul>
<h5>Scope</h5>
<p>The <scope> could be anything specifying place of the commit change. A scope should be a part of the project that the stakeholders understand.
The possible scopes can be agreed beforehand with the developers and/or stakeholders.
You can use * when the change affects more than a single scope, but you can also not put anything (remove the parentheses as&nbsp;well).</p>
<h5>Subject</h5>
<p>The <subject> contains succinct description of the&nbsp;change:</p>
<ul>
<li>use the imperative, present tense: &#8220;change&#8221; not &#8220;changed&#8221; nor&nbsp;&#8220;changes&#8221;</li>
<li>don&#8217;t capitalize first&nbsp;letter</li>
<li>no dot (.) at the&nbsp;end</li>
</ul>
<p>Don’t use generic subjects as: &#8216;debug&#8217; or &#8216;few fixes&#8217;. Be clear and&nbsp;specific.</p>
<h5>Body</h5>
<p>The <body> is optional, but if you use it, just as in the subject, use the imperative, present tense: &#8220;change&#8221; not &#8220;changed&#8221; nor &#8220;changes&#8221;.
The body should include the motivation for the change and contrast
this with the previous&nbsp;behavior.</p>
<h5>Footer</h5>
<p>The <footer> is optional. The footer should contain any information about Breaking Changes and is also the place to reference GitHub issues that this commit closes.
Breaking Changes should start with the word <span class="caps">BREAKING</span> <span class="caps">CHANGE</span>: with a space or two newlines. The rest of the commit message is then used for this.
A detailed explanation can be found in the Angular.js&nbsp;document.</p>
<h3>Pull&nbsp;Requests</h3>
<p>The Pull or Merge Requests (<span class="caps">PR</span>) are used to share with your co-developers the code changes
you did in your branch and ask them to review it. Here we always do a <span class="caps">PR</span> from your branch to
the &#8216;master&#8217; branch.
In a <span class="caps">PR</span>, your colleagues will have a view of the differences between the branches and the
commits. You must also add a title and a&nbsp;description.</p>
<p>The title should be sufficient to understand what is being&nbsp;changed.</p>
<p>In the description you&nbsp;should:</p>
<ul>
<li>make a useful&nbsp;description,</li>
<li>describe what was changed in the pull&nbsp;request,</li>
<li>explain why this <span class="caps">PR</span>&nbsp;exists,</li>
<li>make it clear how it does what it sets out to do. E.g: Does it change a column in the&nbsp;database?</li>
</ul>
<p>How is this being done? What happens to the old&nbsp;data?</p>
<ul>
<li>you may want to use screenshots to demonstrate what has changed if there is a
<span class="caps">GUI</span> involved in the&nbsp;project.</li>
</ul>
<p><strong>Pull request size:</strong> It should be small. The pull request must have a maximum of 250 lines of change.
<strong>Feature breaking:</strong> Whenever it’s possible break pull requests into smaller ones.
<strong>Single Responsibility Principle:</strong> The pull request should do only 1&nbsp;thing.</p>
<h3><span class="caps">CI</span>/<span class="caps">CD</span></h3>
<p>With this setup your <span class="caps">CI</span>/<span class="caps">CD</span> pipeline&nbsp;would:</p>
<ol>
<li>run your checks and tests for every push to a <span class="caps">PR</span> and every merge to&nbsp;&#8216;master&#8217;,</li>
<li>run a deployment to your test environment every merge to &#8216;master&#8217;,&nbsp;and</li>
<li>enable a manual deployment to your production environment for every merge to&nbsp;&#8216;master&#8217;.</li>
</ol>
<p>This deployment should trigger a release first, with automatic version bumping
and change log generation. Bitbucket-pipelines supports&nbsp;this.</p>
<h3><span style="color:red">Remember: git is a collaboration tool, not a reporting&nbsp;tool.</span></h3>
<h3>References</h3>
<ul>
<li><a href="https://medium.com/@hugooodias/the-anatomy-of-a-perfect-pull-request-567382bb6067">The anatomy of a perfect pull request – Hugo Dias –&nbsp;Medium</a></li>
<li><a href="https://www.conventionalcommits.org/en/v1.0.0-beta.4/#specification">Conventional&nbsp;Commits</a></li>
<li><a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">Gitflow Workflow | Atlassian Git&nbsp;Tutorial</a></li>
<li><a href="https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#-git-commit-guidelines">angular.js/<span class="caps">DEVELOPERS</span>.md at master · angular/angular.js ·&nbsp;GitHub</a></li>
<li><a href="https://github.com/semantic-release/semantic-release">GitHub - semantic-release/semantic-release: Fully automated version management and package&nbsp;publishing</a></li>
</ul>
            <div class="hr"></div>
            <a href="#" class="go-top">Go Top</a>
<footer class="footer">
    <p>&copy; Interlines &ndash;
        Built with <a href="https://github.com/PurePelicanTheme/pure">Pure Theme</a>
        for <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
</div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>
</body>
</html>